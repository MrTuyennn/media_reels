package com.example.media_reels.Modelimport android.content.Contextimport androidx.lifecycle.ViewModelimport androidx.media3.common.MediaItemimport androidx.media3.exoplayer.ExoPlayerclass VideoPlayerViewModel(private val context: Context) : ViewModel() {    var player: ExoPlayer? = null    private  var playWhenReady = true    private  var currentItem = 0    private  var playbackPosition = 0L    fun initializePlayer(videoUrl: String) {        if (player == null) {            player = ExoPlayer.Builder(context).build().also { exoPlayer ->                val mediaItem = MediaItem.fromUri(videoUrl)                exoPlayer.setMediaItem(mediaItem)                exoPlayer.prepare()                exoPlayer.playWhenReady = true                exoPlayer.seekTo(currentItem,playbackPosition)            }        }    }    fun play() {        player?.play()    }    fun pause() {        player?.pause()    }    fun releasePlayer() {        player?.let { exoPlayer ->            playbackPosition = exoPlayer.currentPosition            currentItem = exoPlayer.currentMediaItemIndex            playWhenReady = exoPlayer.playWhenReady            exoPlayer.release()        }        player = null    }}